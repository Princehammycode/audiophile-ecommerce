<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audiophile - Checkout</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body id="checkout-page">
     <div class="page-dots page-dots-left"></div>
     <div class="page-dots page-dots-right"></div>

    <header>
        <!-- Same header as index.html (No cart icon on checkout ideally, or disabled) -->
        <div class="container header-container">
            <button class="hamburger-icon" aria-label="Open menu" aria-expanded="false">
                <img src="assets/shared/tablet/icon-hamburger.svg" alt="Menu">
            </button>
            <a href="index.html" class="logo">audiophile</a>
            <nav class="desktop-nav">
                <ul>
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="category.html?name=headphones">HEADPHONES</a></li>
                    <li><a href="category.html?name=speakers">SPEAKERS</a></li>
                    <li><a href="category.html?name=earphones">EARPHONES</a></li>
                </ul>
            </nav>
            <!-- Cart icon might be hidden or disabled on checkout -->
            <button class="cart-button" aria-label="Shopping cart" style="visibility: hidden;">
                <img src="assets/shared/desktop/icon-cart.svg" alt="Cart">
                <span class="cart-count"></span>
            </button>
        </div>
         <div class="mobile-nav-container">
            <nav class="mobile-nav">
                <div class="categories-nav-mobile">
                    <!-- Dynamically filled or static like homepage -->
                </div>
            </nav>
        </div>
    </header>

    <main class="checkout-main">
        <div class="container">
            <a href="javascript:history.back()" class="back-link">Go Back</a>
            <div class="checkout-layout">
                <form id="checkout-form" class="checkout-form-section">
                    <h1>Checkout</h1>
                    <fieldset>
                        <legend class="checkout-legend">Billing Details</legend>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="name">Name</label>
                                <input type="text" id="name" name="name" placeholder="Alexei Ward" required>
                                <span class="error-message"></span>
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" name="email" placeholder="alexei@mail.com" required>
                                <span class="error-message"></span>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" name="phone" placeholder="+1 202-555-0136" required>
                                <span class="error-message"></span>
                            </div>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend class="checkout-legend">Shipping Info</legend>
                        <div class="form-group form-group-full">
                            <label for="address">Your Address</label>
                            <input type="text" id="address" name="address" placeholder="1137 Williams Avenue" required>
                            <span class="error-message"></span>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="zip">ZIP Code</label>
                                <input type="text" id="zip" name="zip" placeholder="10001" required pattern="\d{5}(-\d{4})?">
                                <span class="error-message"></span>
                            </div>
                            <div class="form-group">
                                <label for="city">City</label>
                                <input type="text" id="city" name="city" placeholder="New York" required>
                                <span class="error-message"></span>
                            </div>
                            <div class="form-group">
                                <label for="country">Country</label>
                                <input type="text" id="country" name="country" placeholder="United States" required>
                                <span class="error-message"></span>
                            </div>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend class="checkout-legend">Payment Details</legend>
                        <div class="form-group payment-method-group">
                            <label>Payment Method</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="emoney" name="paymentMethod" value="e-money" checked required>
                                    <label for="emoney">e-Money</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="cod" name="paymentMethod" value="cash" required>
                                    <label for="cod">Cash on Delivery</label>
                                </div>
                            </div>
                            <span class="error-message error-message-radio"></span>
                        </div>
                        <div id="emoney-details" class="form-grid">
                            <div class="form-group">
                                <label for="emoneyNumber">e-Money Number</label>
                                <input type="text" id="emoneyNumber" name="emoneyNumber" placeholder="238521993" required>
                                <span class="error-message"></span>
                            </div>
                            <div class="form-group">
                                <label for="emoneyPin">e-Money PIN</label>
                                <input type="text" id="emoneyPin" name="emoneyPin" placeholder="6891" required>
                                <span class="error-message"></span>
                            </div>
                        </div>
                        <div id="cod-details" class="cod-message" style="display:none;">
                            <img src="assets/checkout/icon-cash-on-delivery.svg" alt="Cash on Delivery icon">
                            <p>The ‘Cash on Delivery’ option enables you to pay in cash when our delivery courier arrives at your residence. Just make sure your address is correct so that your order will not be cancelled.</p>
                        </div>
                    </fieldset>
                </form>

                <div class="checkout-summary-section">
                    <h2>Summary</h2>
                    <div id="checkout-summary-items">
                        <!-- Summary items loaded here -->
                    </div>
                    <div class="summary-totals">
                        <p>TOTAL <span id="summary-subtotal">$0</span></p>
                        <p>SHIPPING <span id="summary-shipping">$50</span></p>
                        <p>VAT (INCLUDED) <span id="summary-vat">$0</span></p>
                        <p class="grand-total">GRAND TOTAL <span id="summary-grandtotal">$0</span></p>
                    </div>
                    <button type="submit" form="checkout-form" class="btn btn-primary btn-full-width">CONTINUE & PAY</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
         <!-- Same footer as index.html -->
    </footer>

    <!-- Order Confirmation Modal -->
    <div id="order-confirmation-modal" class="order-confirmation-overlay" style="display: none;">
        <div class="order-confirmation-content">
            <img src="assets/checkout/icon-order-confirmation.svg" alt="Order confirmed" class="confirmation-icon">
            <h2>THANK YOU<br>FOR YOUR ORDER</h2>
            <p class="confirmation-subtext">You will receive an email confirmation shortly.</p>
            <div class="confirmation-summary">
                <div class="confirmation-items-box">
                     <div id="confirmation-item-list">
                        <!-- First item and "and X other items" will be here -->
                     </div>
                     <p class="view-less" style="display:none;">View less</p>
                </div>
                <div class="confirmation-grand-total-box">
                    <p>GRAND TOTAL</p>
                    <span id="confirmation-grand-total">$0</span>
                </div>
            </div>
            <a href="index.html" class="btn btn-primary btn-full-width">BACK TO HOME</a>
        </div>
    </div>


    <script src="js/dataService.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/checkout.js"></script>
    <script src="js/main.js"></script>
</body>
</html>